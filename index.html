<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Мы вместе</title>
  <style>
    :root {
      --day-bg: linear-gradient(to top, #ffdde1, #ffc3a0);
      --night-bg: linear-gradient(to bottom, #0f2027, #203a43, #2c5364);
    }

    body {
      margin: 0;
      height: 100vh;
      font-family: sans-serif;
      text-align: center;
      color: white;
      overflow: hidden;
      position: relative;
    }

    body::before {
      content: '';
      position: absolute;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      transition: background 1s ease;
    }

    .day-mode::before {
      background: var(--day-bg);
    }

    .night-mode::before {
      background: var(--night-bg);
    }

    .sun, .moon {
      position: absolute;
      top: 30px;
      left: 50%;
      transform: translateX(-50%);
      width: 60px;
      height: 60px;
      border-radius: 50%;
      z-index: 1;
    }

    .sun {
      background: radial-gradient(circle, #ffd700, #ffa500);
      box-shadow: 0 0 15px #ffa500;
    }

    .moon {
      background: radial-gradient(circle, #ccc, #888);
      box-shadow: 0 0 15px #aaa;
      display: none;
    }

    .clouds {
      position: absolute;
      top: 110px;
      width: 100%;
      height: 120px;
      background: url('https://svgshare.com/i/113v.svg') repeat-x;
      background-size: contain;
      animation: moveClouds 60s linear infinite;
      z-index: 1;
      pointer-events: none;
    }

    @keyframes moveClouds {
      0% { background-position: 0 0; }
      100% { background-position: 1000px 0; }
    }

    h1 {
      font-size: 1.8rem;
      margin-top: 220px;
    }

    #daysTogether {
      font-size: 1.4rem;
      margin-top: 10px;
    }

    #daysToAnniversary {
      font-size: 1.1rem;
      margin-top: 10px;
    }

    .heart {
      position: fixed;
      animation: floatUp 4s ease-in forwards;
      z-index: 9999;
    }

    @keyframes floatUp {
      0% { transform: translateY(0); opacity: 1; }
      100% { transform: translateY(-200px); opacity: 0; }
    }

    .star, .static-star {
      position: absolute;
      width: 2px;
      height: 2px;
      background: white;
      border-radius: 50%;
    }

    .star {
      animation: fall 2s linear forwards;
    }

    @keyframes fall {
      0% { transform: translateY(0); opacity: 1; }
      100% { transform: translateY(100vh); opacity: 0; }
    }

    .mode-toggle {
      position: absolute;
      top: 10px;
      right: 10px;
      padding: 8px 12px;
      border: none;
      border-radius: 12px;
      background: rgba(255,255,255,0.3);
      font-size: 0.9rem;
      cursor: pointer;
      z-index: 3;
    }
  </style>
</head>
<body class="day-mode">
  <button class="mode-toggle" onclick="toggleMode()">Сменить режим</button>
  <div class="sun"></div>
  <div class="moon"></div>
  <div class="clouds"></div>
  <h1>Ты моё счастье</h1>
  <p id="daysTogether"></p>
  <p id="daysToAnniversary"></p>

  <script>
    const startDate = new Date('2024-11-04');
    const anniversaryDate = new Date(startDate);
    anniversaryDate.setFullYear(startDate.getFullYear() + 1);

    function updateCounters() {
      const now = new Date();
      const daysTogether = Math.floor((now - startDate) / (1000 * 60 * 60 * 24));
      const daysToAnniversary = Math.max(0, Math.ceil((anniversaryDate - now) / (1000 * 60 * 60 * 24)));
      document.getElementById('daysTogether').textContent = `Мы вместе уже ${daysTogether} дней ❤️`;
      document.getElementById('daysToAnniversary').textContent = `До годовщины: ${daysToAnniversary} дней ✨`;
    }

    updateCounters();

    function toggleMode() {
      const body = document.body;
      const sun = document.querySelector('.sun');
      const moon = document.querySelector('.moon');
      body.classList.toggle('night-mode');
      body.classList.toggle('day-mode');
      const isNight = body.classList.contains('night-mode');
      sun.style.display = isNight ? 'none' : 'block';
      moon.style.display = isNight ? 'block' : 'none';

      document.querySelectorAll('.static-star').forEach(el => el.remove());
      if (isNight) createStaticStars();
    }

    setInterval(() => {
      const x = Math.random() * window.innerWidth;
      const y = window.innerHeight - 30;
      createHeart(x, y);
    }, 1000);

    document.body.addEventListener("click", (e) => {
      createHeart(e.clientX - 15, e.clientY - 15);
    });

    function createHeart(x, y) {
      const heart = document.createElement("div");
      heart.className = "heart";
      heart.style.left = `${x}px`;
      heart.style.top = `${y}px`;
      heart.innerHTML = "❤️";
      document.body.appendChild(heart);
      setTimeout(() => heart.remove(), 4000);
    }

    setInterval(() => {
      if (document.body.classList.contains('night-mode')) {
        const star = document.createElement('div');
        star.classList.add('star');
        star.style.left = Math.random() * 100 + 'vw';
        star.style.top = '0px';
        document.body.appendChild(star);
        setTimeout(() => star.remove(), 2000);
      }
    }, 2000);

    function createStaticStars() {
      for (let i = 0; i < 100; i++) {
        const star = document.createElement('div');
        star.className = 'static-star';
        star.style.left = Math.random() * 100 + 'vw';
        star.style.top = Math.random() * 100 + 'vh';
        star.style.opacity = Math.random();
        document.body.appendChild(star);
      }
    }
  </script>
</body>
</html>
